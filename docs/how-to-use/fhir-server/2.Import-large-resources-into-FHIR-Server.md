# Importing Large Resources into FHIR Server

## Overview

A FHIR Server will accept an Transaction import. To import large amounts of data into the FHIR Server, use the FHIR Bundle transaction approach for efficient bulk operations.

Our server follow this FHIR Standard too: https://hl7.org/fhir/bundle.html#rest

## Steps to Import Large Resources

### Step 1: Convert Resources to FHIR+JSON Standard

Ensure all your resources are in proper FHIR+JSON format:
```
{
  "resourceType": "Patient",
  "id": "example-patient-1",
  "name": [{
    "family": "Doe",
    "given": ["John"]
  }]
}
```

### Step 2: Pack Resources into Transaction Bundle

Create a Bundle with type "transaction" containing all resources:
```
{
  "resourceType": "Bundle",
  "type": "transaction",
  "entry": [
    {
      "request": {
        "method": "POST",
        "url": "Patient"
      },
      "resource": {
        "resourceType": "Patient",
        "name": [{"family": "Doe", "given": ["John"]}]
      }
    },
    {
      "request": {
        "method": "POST", 
        "url": "Observation"
      },
      "resource": {
        "resourceType": "Observation",
        "status": "final"
      }
    }
  ]
}
```
You can check a transaction example in `fhir-server/docs/transaction-example/transaction.json`

### Step 3: POST Transaction Bundle to FHIR Server Root
Remember that for any interaction with FHIR Server we all need an Access Token from ID Server
```
POST /fhir
Authorization: Bearer YOUR_ACCESS_TOKEN
Content-Type: application/fhir+json

{Bundle JSON from Step 2}
```

## Benefits

- All resources are processed as a single atomic transaction
- Efficient for bulk data imports
- **Maintains referential integrity**. This is important for inserting large amount of data